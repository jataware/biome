datatype: api
description: |
  INDRA CoGEx (Context Graph Extension) is an automatically assembled biomedical knowledge graph which integrates causal mechanisms from INDRA
  with non-causal contextual relations including properties, ontology, and data.

  The INDRA CoGEx Query API is a RESTful service designed to streamline complex queries within the biomedical domain,
  powered by the Contextual Graph Explorer (CoGEx) framework. It provides an interface to retrieve detailed insights
  by integrating and analyzing data from diverse biomedical sources. Users can execute queries to uncover relationships
  such as diseases associated with specific clinical trials, drugs linked to particular side effects, or other intricate
  connections in biomedical knowledge. By leveraging its contextual graph-based approach, the API enables researchers,
  data scientists, and healthcare professionals to explore and analyze rich biomedical data efficiently, supporting
  advancements in drug discovery, clinical decision-making, and research. With its robust architecture, the INDRA CoGEx
  Query API facilitates the discovery of meaningful patterns and supports informed decision-making in complex biomedical scenarios.
img_url: null
last_updated: null
name: INDRA Context Graph Extension (CoGEx)
provider: adhoc:biome
resources:
  a086290e-031b-44cd-9acc-4a482a9c2500:
    code: |-
      import requests
      import pandas as pd

      url = "https://discovery.indra.bio/api/get_drugs_for_indication"
      payload = {
          "indication": ["mesh", "D000544"]  # Alzheimer's Disease (MeSH)
      }
      headers = {
          "accept": "application/json",
          "Content-Type": "application/json"
      }

      print("Querying INDRA CoGEx for drugs associated with Alzheimer's disease...")
      response = requests.post(url, json=payload, headers=headers)
      response.raise_for_status()
      data = response.json()

      print(f"Found {len(data)} drug entries")

      # Parse the correct response structure
      drugs = []
      for node in data:
          if 'data' in node:
              drug_data = node['data']
              drugs.append({
                  "id": drug_data.get("db_id"),
                  "name": drug_data.get("name"),
                  "namespace": drug_data.get("db_ns"),
                  "labels": node.get("labels", [])
              })

      df = pd.DataFrame(drugs)
      print(f"\nFirst 15 drugs for Alzheimer's disease:")
      print(df.head(15)[['name', 'id', 'namespace']].to_string(index=False))

      # Store for later analysis
      alzheimer_drugs = df.copy()
      print(f"\nTotal drugs found for Alzheimer's disease: {len(alzheimer_drugs)}")

      # Get unique drug names
      unique_drugs = df['name'].value_counts()
      print(f"\nTop 10 most frequently mentioned drugs:")
      print(unique_drugs.head(10))
    integration: 417f20f1-4f56-4f6c-b11a-c40d84258557
    notes: |-
      This example demonstrates how to query INDRA CoGEx for drugs associated with a specific disease indication using MeSH terms. The response structure includes nested 'data' objects that need to be parsed correctly. This is essential for therapeutic landscape mapping in drug repurposing workflows. The code handles the API response format and creates a structured DataFrame for further analysis.
    query: Find all drugs associated with Alzheimer's disease for drug repurposing
      analysis
    resource_id: a086290e-031b-44cd-9acc-4a482a9c2500
    resource_type: example
  b7c4d45f-287b-47e2-aa9b-5ee5bae07353:
    code: |
      import requests

      base_url = "https://discovery.indra.bio/api/"

      # Get pathways for JAK2
      jak2_payload = {
          "gene": ["HGNC", "6192"]  # JAK2 HGNC ID
      }

      # Get JAK2 pathways
      jak2_pathways_response = requests.post(
          base_url + "get_pathways_for_gene",
          json=jak2_payload
      )

      print("JAK2 Pathways Response:")
      print(jak2_pathways_response.json())

      # Get shared pathways with common partner genes
      partner_genes = [
          ["HGNC", "6192"],  # JAK2
          ["HGNC", "3603"],  # STAT3
          ["HGNC", "6193"],  # JAK3
          ["HGNC", "3236"]   # EGFR
      ]

      shared_payload = {
          "genes": partner_genes
      }

      # Get shared pathways
      shared_pathways_response = requests.post(
          base_url + "get_shared_pathways_for_genes",
          json=shared_payload
      )

      print("\nShared Pathways Response:")
      print(shared_pathways_response.json())
    integration: 417f20f1-4f56-4f6c-b11a-c40d84258557
    notes: null
    query: |-
      Perform a gene pathway analysis for JAK2 to find associated pathways and shared pathways with other genes like STAT3, JAK3, and EGFR.
    resource_id: b7c4d45f-287b-47e2-aa9b-5ee5bae07353
    resource_type: example
  bde145b5-0c08-4b29-9799-52e25ce1ad96:
    code: "import requests\nimport pandas as pd\n\n# HGNC IDs for key target proteins\n\
      genes = {\n    \"APP\": \"620\",\n    \"PSEN1\": \"9508\",\n    \"PSEN2\": \"\
      9509\", \n    \"APOE\": \"613\",\n    \"MAPT\": \"6893\",\n    \"BACE1\": \"\
      933\"\n}\n\nprint(\"Querying INDRA CoGEx for drugs targeting key proteins...\"\
      )\nprint(\"=\" * 70)\n\nresults = []\nfor gene_name, hgnc_id in genes.items():\n\
      \    try:\n        payload = {\"target\": [\"HGNC\", hgnc_id]}\n        response\
      \ = requests.post(\n            \"https://discovery.indra.bio/api/get_drugs_for_target\"\
      ,\n            json=payload,\n            headers={\"accept\": \"application/json\"\
      , \"Content-Type\": \"application/json\"}\n        )\n        \n        if response.ok:\n\
      \            drugs_data = response.json()\n            print(f\"{gene_name}\
      \ (HGNC:{hgnc_id}): Found {len(drugs_data)} targeting drugs\")\n           \
      \ \n            for node in drugs_data:\n                if 'data' in node:\n\
      \                    drug_data = node['data']\n                    results.append({\n\
      \                        \"target_gene\": gene_name,\n                     \
      \   \"target_hgnc_id\": hgnc_id,\n                        \"drug_name\": drug_data.get(\"\
      name\"),\n                        \"drug_id\": drug_data.get(\"db_id\"),\n \
      \                       \"namespace\": drug_data.get(\"db_ns\"),\n         \
      \               \"labels\": node.get(\"labels\", [])\n                    })\n\
      \        else:\n            print(f\"Error for {gene_name}: {response.status_code}\"\
      )\n            \n    except Exception as e:\n        print(f\"Exception for\
      \ {gene_name}: {e}\")\n\nif results:\n    df = pd.DataFrame(results)\n    print(f\"\
      \\nFound {len(results)} drug-target associations\")\n    \n    # Find drugs\
      \ targeting multiple proteins (multi-target candidates)\n    drug_target_counts\
      \ = df.groupby('drug_name')['target_gene'].nunique().sort_values(ascending=False)\n\
      \    multi_target_drugs = drug_target_counts[drug_target_counts > 1]\n    \n\
      \    if len(multi_target_drugs) > 0:\n        print(f\"\\nMulti-target drugs\
      \ (promising repurposing candidates):\")\n        for drug, target_count in\
      \ multi_target_drugs.head(10).items():\n            targets = df[df['drug_name']\
      \ == drug]['target_gene'].unique()\n            print(f\"- {drug}: targets {target_count}\
      \ proteins ({', '.join(targets)})\")\n    else:\n        print(f\"\\nNo multi-target\
      \ drugs found in current dataset\")\n        \n    # Analyze drug distribution\
      \ by target\n    print(f\"\\nDrug distribution by target:\")\n    target_counts\
      \ = df.groupby('target_gene').size().sort_values(ascending=False)\n    print(target_counts)"
    integration: 417f20f1-4f56-4f6c-b11a-c40d84258557
    notes: |-
      This example demonstrates how to identify drugs that target specific proteins and find multi-target candidates for drug repurposing. Multi-target drugs are particularly valuable for repurposing because they can address pathway convergence and potentially offer superior efficacy. The code systematically queries multiple targets and identifies drugs with polypharmacology profiles, which are often the most promising repurposing candidates.
    query: Find drugs targeting specific proteins to identify multi-target repurposing
      candidates
    resource_id: bde145b5-0c08-4b29-9799-52e25ce1ad96
    resource_type: example
  c8f8db77-c0bb-4ee2-9525-925707496b5a:
    code: |
      import requests
      import json

      def get_mesh_literature():
          # API base URL
          base_url = "https://discovery.indra.bio/api/"

          # Get papers with evidence for AML MeSH term
          payload = {
              "mesh_term": ["MESH", "D015470"],
              "include_child_terms": True
          }

          # Make request to get evidences
          response = requests.post(
              base_url + "get_evidences_for_mesh",
              json=payload,
              headers={"Content-Type": "application/json"}
          )

          if response.status_code == 200:
              # Process and return results
              results = response.json()

              # Convert results to a more readable format
              evidence_by_statement = {}
              for stmt_hash, evidences in results.items():
                  evidence_by_statement[stmt_hash] = {
                      'pmids': list(set([ev['text_refs'].get('PMID') for ev in evidences if ev.get('text_refs', {}).get('PMID')])),
                      'evidence_count': len(evidences)
                  }

              return evidence_by_statement
          else:
              print(f"Error: {response.status_code}")
              return None

      if __name__ == "__main__":
          evidence_data = get_mesh_literature()

          if evidence_data:
              # Print summary of findings
              print(f"Found {len(evidence_data)} statements with evidence")

              # Get total evidence count
              total_evidence = sum(data['evidence_count'] for data in evidence_data.values())
              print(f"Total evidence count: {total_evidence}")

              # Get unique PMIDs
              all_pmids = set()
              for data in evidence_data.values():
                  all_pmids.update(data['pmids'])
              print(f"Total unique PMIDs: {len(all_pmids)}")
    integration: 417f20f1-4f56-4f6c-b11a-c40d84258557
    notes: null
    query: Retrieve literature evidence related to AML using MeSH term queries, including
      child terms, and summarize the findings.
    resource_id: c8f8db77-c0bb-4ee2-9525-925707496b5a
    resource_type: example
  d1ce809b-ba0e-4220-9375-1f8d2e141f3e:
    code: "import requests\nimport pandas as pd\n\n# HGNC IDs for key Alzheimer's\
      \ disease-associated genes\ngenes = {\n    \"APP\": \"620\",\n    \"PSEN1\"\
      : \"9508\", \n    \"PSEN2\": \"9509\",\n    \"APOE\": \"613\",\n    \"MAPT\"\
      : \"6893\",\n    \"BACE1\": \"933\"\n}\n\nbase_url = \"https://discovery.indra.bio/api/get_pathways_for_gene\"\
      \nresults = []\n\nprint(\"Querying INDRA CoGEx for pathways associated with\
      \ key disease genes...\")\nprint(\"=\" * 70)\n\nfor gene_name, hgnc_id in genes.items():\n\
      \    try:\n        payload = {\"gene\": [\"HGNC\", hgnc_id]}\n        response\
      \ = requests.post(base_url, json=payload)\n        \n        if response.ok:\n\
      \            pathways_data = response.json()\n            print(f\"{gene_name}\
      \ (HGNC:{hgnc_id}): Found {len(pathways_data)} pathways\")\n            \n \
      \           for node in pathways_data:\n                if 'data' in node:\n\
      \                    pathway_data = node['data']\n                    results.append({\n\
      \                        \"gene\": gene_name,\n                        \"gene_hgnc_id\"\
      : hgnc_id,\n                        \"pathway_name\": pathway_data.get(\"name\"\
      ),\n                        \"pathway_id\": pathway_data.get(\"db_id\"),\n \
      \                       \"namespace\": pathway_data.get(\"db_ns\"),\n      \
      \                  \"labels\": node.get(\"labels\", [])\n                  \
      \  })\n        else:\n            print(f\"Error for {gene_name}: {response.status_code}\"\
      )\n            \n    except Exception as e:\n        print(f\"Exception for\
      \ {gene_name}: {e}\")\n\nif results:\n    df = pd.DataFrame(results)\n    print(f\"\
      \\nFound {len(results)} gene-pathway associations\")\n    \n    # Identify pathways\
      \ that appear in multiple genes (potential drug targets)\n    pathway_gene_counts\
      \ = df.groupby('pathway_name')['gene'].nunique().sort_values(ascending=False)\n\
      \    multi_gene_pathways = pathway_gene_counts[pathway_gene_counts > 1]\n  \
      \  \n    print(f\"\\nPathways involving multiple genes (top repurposing targets):\"\
      )\n    for pathway, gene_count in multi_gene_pathways.head(10).items():\n  \
      \      genes_in_pathway = df[df['pathway_name'] == pathway]['gene'].unique()\n\
      \        print(f\"- {pathway}: {gene_count} genes ({', '.join(genes_in_pathway)})\"\
      )\n        \n    # Store key pathways for drug target analysis\n    key_pathway_genes\
      \ = df[df['pathway_name'].isin(multi_gene_pathways.head(5).index)]\n    print(f\"\
      \\nSelected {len(key_pathway_genes)} pathway-gene associations for drug target\
      \ analysis\")"
    integration: 417f20f1-4f56-4f6c-b11a-c40d84258557
    notes: |-
      This example shows how to systematically explore pathways for multiple disease-associated genes using HGNC identifiers. It identifies multi-gene pathways that represent convergent therapeutic targets for drug repurposing. The analysis prioritizes pathways involving multiple disease genes, which often represent the most promising targets for intervention. This approach is crucial for network-based drug repurposing strategies.
    query: Find pathways associated with key disease genes for drug target identification
    resource_id: d1ce809b-ba0e-4220-9375-1f8d2e141f3e
    resource_type: example
  e57fbdf9-732a-407a-8469-921076b69054:
    code: |
      import requests

      def analyze_jak2():
          # API base URL
          base_url = "https://discovery.indra.bio/api/"

          # JAK2 HGNC ID
          jak2_node = ["HGNC", "6192"]

          # Get GO terms
          go_terms_payload = {
              "gene": jak2_node,
              "include_indirect": True
          }
          go_response = requests.post(
              base_url + "get_go_terms_for_gene",
              json=go_terms_payload
          )

          # Get pathways
          pathways_payload = {
              "gene": jak2_node
          }
          pathways_response = requests.post(
              base_url + "get_pathways_for_gene",
              json=pathways_payload
          )

          # Check if kinase
          kinase_payload = {
              "genes": ["JAK2"]
          }
          kinase_response = requests.post(
              base_url + "is_kinase",
              json=kinase_payload
          )

          # Check if phosphatase
          phosphatase_payload = {
              "genes": ["JAK2"]
          }
          phosphatase_response = requests.post(
              base_url + "is_phosphatase",
              json=phosphatase_payload
          )

          # Check if transcription factor
          tf_payload = {
              "genes": ["JAK2"]
          }
          tf_response = requests.post(
              base_url + "is_transcription_factor",
              json=tf_payload
          )

          # Compile and return results
          results = {
              "go_terms": go_response.json(),
              "pathways": pathways_response.json(),
              "is_kinase": kinase_response.json().get("JAK2", False),
              "is_phosphatase": phosphatase_response.json().get("JAK2", False),
              "is_transcription_factor": tf_response.json().get("JAK2", False)
          }

          return results

      if __name__ == "__main__":
          results = analyze_jak2()
          print(f"Analysis Results for JAK2:")
          print(f"Number of GO terms: {len(results['go_terms'])}")
          print(f"Number of pathways: {len(results['pathways'])}")
          print(f"Is kinase: {results['is_kinase']}")
          print(f"Is phosphatase: {results['is_phosphatase']}")
          print(f"Is transcription factor: {results['is_transcription_factor']}")
    integration: 417f20f1-4f56-4f6c-b11a-c40d84258557
    notes: null
    query: |-
      This example demonstrates how to analyze the JAK2 gene using the INDRA CoGEx API to retrieve GO terms, pathway associations, and check if it is a kinase, phosphatase, or transcription factor.
    resource_id: e57fbdf9-732a-407a-8469-921076b69054
    resource_type: example
  f49c8aa7-727e-444e-a3a2-314a5f0d6631:
    filepath: indra.json
    integration: 417f20f1-4f56-4f6c-b11a-c40d84258557
    name: raw_documentation
    resource_id: f49c8aa7-727e-444e-a3a2-314a5f0d6631
    resource_type: file
slug: indra_context_graph_extension__cogex_
source: |
  {{raw_documentation}}

  # Additional Instructions:

  You should make use of the python requests library to interact with the API.
  Note that the base URL of the API is 'https://discovery.indra.bio/api/'

  For example, here is an example request:

  curl -X 'POST' \
    'https://discovery.indra.bio/api/get_go_terms_for_gene' \
    -H 'accept: application/json' \
    -H 'Content-Type: application/json' \
    -d '{
      "gene": [
        "HGNC",
        "9896"
      ],
      "include_indirect": true
    }'
  ```
url: null
uuid: 417f20f1-4f56-4f6c-b11a-c40d84258557
