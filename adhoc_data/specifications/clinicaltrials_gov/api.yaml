datatype: api
description: |
  The ClinicalTrials.gov REST API provides access to clinical trial data from the world's largest clinical trial registry. 
  This API allows researchers to search and retrieve information about clinical studies, including study design, 
  eligibility criteria, outcomes, and locations. The database contains over 400,000 studies from around the globe,
  making it an essential resource for clinical research and evidence-based medicine.
img_url: null
last_updated: null
name: ClinicalTrials.gov
provider: adhoc:specialist_agents
slug: clinicaltrials_gov
source: |
  This API is through Open API Spec (Swagger). You will be provided the schema below.
  All requests go to the following URL: https://clinicaltrials.gov/api/v2

  {{openapi_specification}}
url: https://clinicaltrials.gov/api/v2
uuid: 7f8a9b2c-4d3e-4f5a-8b9c-1a2b3c4d5e6f
resources:
  a1b2c3d4-e5f6-7890-abcd-ef1234567890:
    code: |
      import requests
      import pandas as pd

      def search_cancer_studies():
          """Search for recruiting lung cancer studies"""
          base_url = "https://clinicaltrials.gov/api/v2"
          
          params = {
              'query.cond': 'lung cancer',
              'filter.overallStatus': 'RECRUITING',
              'pageSize': 20,
              'format': 'json'
          }
          
          response = requests.get(f"{base_url}/studies", params=params)
          
          if response.status_code != 200:
              raise Exception(f"API request failed with status code {response.status_code}")
          
          data = response.json()
          studies = data.get('studies', [])
          
          # Extract key information from each study
          study_list = []
          for study in studies:
              protocol = study.get('protocolSection', {})
              ident_mod = protocol.get('identificationModule', {})
              status_mod = protocol.get('statusModule', {})
              design_mod = protocol.get('designModule', {})
              
              study_info = {
                  'nct_id': ident_mod.get('nctId', 'N/A'),
                  'brief_title': ident_mod.get('briefTitle', 'N/A'),
                  'overall_status': status_mod.get('overallStatus', 'N/A'),
                  'study_type': design_mod.get('studyType', 'N/A'),
                  'phase': design_mod.get('phases', ['N/A'])[0] if design_mod.get('phases') else 'N/A',
                  'last_update': status_mod.get('lastUpdatePostDateStruct', {}).get('date', 'N/A')
              }
              study_list.append(study_info)
          
          # Convert to DataFrame
          df = pd.DataFrame(study_list)
          print(f"Found {len(df)} recruiting lung cancer studies")
          return df

      # Execute the search
      cancer_studies = search_cancer_studies()
      print(cancer_studies.head())
    integration: 7f8a9b2c-4d3e-4f5a-8b9c-1a2b3c4d5e6f
    notes: null
    query: Search for recruiting lung cancer studies using condition-based filtering
    resource_id: a1b2c3d4-e5f6-7890-abcd-ef1234567890
    resource_type: example
  b2c3d4e5-f6g7-8901-bcde-f23456789012:
    code: |
      import requests
      import pandas as pd

      def search_studies_by_location():
          """Search for studies near NIH/Bethesda area"""
          base_url = "https://clinicaltrials.gov/api/v2"
          
          params = {
              'filter.geo': 'distance(39.0035707,-77.1013313,50mi)',  # NIH coordinates, 50 mile radius
              'filter.overallStatus': 'RECRUITING|NOT_YET_RECRUITING',
              'pageSize': 15,
              'format': 'json'
          }
          
          response = requests.get(f"{base_url}/studies", params=params)
          
          if response.status_code != 200:
              raise Exception(f"API request failed with status code {response.status_code}")
          
          data = response.json()
          studies = data.get('studies', [])
          
          # Extract location and study information
          study_list = []
          for study in studies:
              protocol = study.get('protocolSection', {})
              ident_mod = protocol.get('identificationModule', {})
              contacts_mod = protocol.get('contactsLocationsModule', {})
              
              # Get first location if available
              locations = contacts_mod.get('locations', [])
              location_info = locations[0] if locations else {}
              
              study_info = {
                  'nct_id': ident_mod.get('nctId', 'N/A'),
                  'brief_title': ident_mod.get('briefTitle', 'N/A')[:80] + '...',
                  'facility': location_info.get('facility', 'N/A'),
                  'city': location_info.get('city', 'N/A'),
                  'state': location_info.get('state', 'N/A'),
                  'country': location_info.get('country', 'N/A')
              }
              study_list.append(study_info)
          
          # Convert to DataFrame
          df = pd.DataFrame(study_list)
          print(f"Found {len(df)} studies within 50 miles of NIH/Bethesda")
          return df

      # Execute the geographic search
      local_studies = search_studies_by_location()
      print(local_studies.head())
    integration: 7f8a9b2c-4d3e-4f5a-8b9c-1a2b3c4d5e6f
    notes: null
    query: Search for studies within 50 miles of NIH/Bethesda using geographic filtering
    resource_id: b2c3d4e5-f6g7-8901-bcde-f23456789012
    resource_type: example
  c3d4e5f6-g7h8-9012-cdef-345678901234:
    code: |
      import requests
      import json

      def get_study_details(nct_id):
          """Get detailed information for a specific study by NCT ID"""
          base_url = "https://clinicaltrials.gov/api/v2"
          
          response = requests.get(f"{base_url}/studies/{nct_id}")
          
          if response.status_code != 200:
              raise Exception(f"API request failed with status code {response.status_code}")
          
          data = response.json()
          protocol = data.get('protocolSection', {})
          
          # Extract detailed study information
          ident_mod = protocol.get('identificationModule', {})
          status_mod = protocol.get('statusModule', {})
          design_mod = protocol.get('designModule', {})
          desc_mod = protocol.get('descriptionModule', {})
          eligibility_mod = protocol.get('eligibilityModule', {})
          
          study_details = {
              'nct_id': ident_mod.get('nctId', 'N/A'),
              'brief_title': ident_mod.get('briefTitle', 'N/A'),
              'official_title': ident_mod.get('officialTitle', 'N/A'),
              'overall_status': status_mod.get('overallStatus', 'N/A'),
              'study_type': design_mod.get('studyType', 'N/A'),
              'phases': design_mod.get('phases', []),
              'enrollment': design_mod.get('enrollmentInfo', {}).get('count', 'N/A'),
              'brief_summary': desc_mod.get('briefSummary', 'N/A'),
              'detailed_description': desc_mod.get('detailedDescription', 'N/A')[:200] + '...' if desc_mod.get('detailedDescription') else 'N/A',
              'eligibility_criteria': eligibility_mod.get('eligibilityCriteria', 'N/A')[:200] + '...' if eligibility_mod.get('eligibilityCriteria') else 'N/A',
              'minimum_age': eligibility_mod.get('minimumAge', 'N/A'),
              'maximum_age': eligibility_mod.get('maximumAge', 'N/A'),
              'gender': eligibility_mod.get('sex', 'N/A')
          }
          
          return study_details

      # Get details for a specific study
      nct_id = "NCT05227326"  # Example NCT ID
      study_info = get_study_details(nct_id)

      print(f"Study Details for {nct_id}:")
      for key, value in study_info.items():
          print(f"{key.replace('_', ' ').title()}: {value}")
    integration: 7f8a9b2c-4d3e-4f5a-8b9c-1a2b3c4d5e6f
    notes: null
    query: Get detailed information for a specific clinical trial using its NCT ID
    resource_id: c3d4e5f6-g7h8-9012-cdef-345678901234
    resource_type: example
  d4e5f6g7-h8i9-0123-defg-456789012345:
    code: |
      import requests
      import pandas as pd
      from datetime import datetime, timedelta

      def get_recently_updated_studies():
          """Get studies updated in the last 30 days"""
          base_url = "https://clinicaltrials.gov/api/v2"
          
          # Calculate date 30 days ago
          thirty_days_ago = (datetime.now() - timedelta(days=30)).strftime('%Y-%m-%d')
          
          params = {
              'query.term': f'AREA[LastUpdatePostDate]RANGE[{thirty_days_ago},MAX]',
              'pageSize': 25,
              'format': 'json',
              'sort': 'LastUpdatePostDate:desc'  # Sort by most recently updated first
          }
          
          response = requests.get(f"{base_url}/studies", params=params)
          
          if response.status_code != 200:
              raise Exception(f"API request failed with status code {response.status_code}")
          
          data = response.json()
          studies = data.get('studies', [])
          
          # Extract study information with update details
          study_list = []
          for study in studies:
              protocol = study.get('protocolSection', {})
              ident_mod = protocol.get('identificationModule', {})
              status_mod = protocol.get('statusModule', {})
              design_mod = protocol.get('designModule', {})
              
              study_info = {
                  'nct_id': ident_mod.get('nctId', 'N/A'),
                  'brief_title': ident_mod.get('briefTitle', 'N/A')[:60] + '...',
                  'overall_status': status_mod.get('overallStatus', 'N/A'),
                  'study_type': design_mod.get('studyType', 'N/A'),
                  'last_update_date': status_mod.get('lastUpdatePostDateStruct', {}).get('date', 'N/A'),
                  'status_verified_date': status_mod.get('statusVerifiedDateStruct', {}).get('date', 'N/A'),
                  'start_date': status_mod.get('startDateStruct', {}).get('date', 'N/A')
              }
              study_list.append(study_info)
          
          # Convert to DataFrame and sort by update date
          df = pd.DataFrame(study_list)
          df['last_update_date'] = pd.to_datetime(df['last_update_date'], errors='coerce')
          df = df.sort_values('last_update_date', ascending=False)
          
          print(f"Found {len(df)} studies updated in the last 30 days")
          return df

      # Get recently updated studies
      recent_studies = get_recently_updated_studies()
      print("Most recently updated studies:")
      print(recent_studies.head(10))
    integration: 7f8a9b2c-4d3e-4f5a-8b9c-1a2b3c4d5e6f
    notes: null
    query: Find clinical trials that have been updated in the last 30 days using date range filtering
    resource_id: d4e5f6g7-h8i9-0123-defg-456789012345
    resource_type: example
  e5f6g7h8-i9j0-1234-efgh-567890123456:
    filepath: ctg-oas-v2.yaml
    integration: 7f8a9b2c-4d3e-4f5a-8b9c-1a2b3c4d5e6f
    name: openapi_specification
    resource_id: e5f6g7h8-i9j0-1234-efgh-567890123456
    resource_type: file