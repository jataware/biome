- query: "Get water quality data for Seminole County, Florida"
  code: |
    import requests
    from datetime import datetime, timedelta
    import pandas as pd

    def get_water_quality_data():
        # Base URL for USGS water services
        base_url = "https://waterservices.usgs.gov/nwis/dv/"
        
        # Calculate date range (3 years from today)
        end_date = datetime.now()
        start_date = end_date - timedelta(days=3*365)
        
        # Parameters to check common water quality indicators
        params = [
            "00300","00400","00095","00010","00900" # assorted for an example, could include more
        ]
        
        # Build request parameters
        params = {
            'format': 'json',
            # 'stateCd': 12, # commented out beause 12 is already included in county (only one of thie type of location filter allowed)
            'countyCd': 12117, # Seminole County FIPS code
            'startDt': start_date.strftime('%Y-%m-%d'),
            'endDt': end_date.strftime('%Y-%m-%d'),
            'parameterCd': ','.join(params),
            'siteStatus': 'active'
        }

        # Make request
        response = requests.get(base_url, params=params)